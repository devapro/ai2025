# OpenAI API Configuration
OPENAI_API_KEY=your_openai_api_key_here

# Optional: Custom directories for prompts and history
# PROMPTS_DIR=promts
# HISTORY_DIR=history
# PROFILES_DIR=profiles

# REQUIRED FOR PR REVIEW: Path to git repository for code analysis
# This should point to the git repository you want to review PRs for
# Can be absolute path or relative to bot's working directory
# Example: PROJECT_SOURCE_DIR=/Users/yourname/projects/my-app
# Example: PROJECT_SOURCE_DIR=../my-project
PROJECT_SOURCE_DIR=project-source

# Optional: MCP Configuration
# Path to MCP configuration file (default: mcp-config.json)
# MCP_CONFIG_PATH=mcp-config.json

# Optional: RAG (Retrieval-Augmented Generation) Configuration
# Enable RAG document search tool (true/false, default: false)
# RAG_ENABLED=false
# Path to vector database file (default: embeddings.db)
# RAG_DATABASE_PATH=embeddings.db
# LM Studio API endpoint for embeddings (default: http://127.0.0.1:1234/v1/embeddings)
# OpenAi https://api.openai.com/v1/embeddings
# RAG_EMBEDDING_API_URL=http://127.0.0.1:1234/v1/embeddings
# Embedding model name (default: text-embedding-nomic-embed-text-v1.5)
# text-embedding-3-small
# RAG_EMBEDDING_MODEL=text-embedding-nomic-embed-text-v1.5
# Number of initial results to retrieve (default: 10)
# RAG_TOP_K=10
# Number of final results after filtering (default: 3)
# RAG_FINAL_TOP_K=3
# Minimum similarity threshold 0.0-1.0 (default: 0.5 for hybrid mode)
# Note: Hybrid search mode combines vector similarity + exact text matching
# This ensures exact keyword matches are never missed, even with lower threshold
# RAG_MIN_SIMILARITY=0.5

# Optional: RAG Search Mode (NEW: Now uses Hybrid Search by default)
# Hybrid search combines:
#   1. Vector similarity search (semantic understanding)
#   2. Exact text matching (keyword fallback)
# This solves the problem where pure semantic search can miss exact matches
# No additional configuration needed - it works out of the box!

# Optional: GitHub Configuration (for PR review feature)
# The bot includes a built-in GitHub API tool that works without MCP
# Configure GITHUB_TOKEN for enhanced functionality:
#
# Without token (anonymous access):
# - Public repositories only
# - Rate limit: 60 requests/hour
# - Basic PR information
#
# With token (authenticated access):
# - Public AND private repositories
# - Rate limit: 5000 requests/hour
# - Full PR information
#
# To get a token:
# 1. Go to https://github.com/settings/tokens
# 2. Create Personal Access Token (classic)
# 3. Scopes needed: 'repo' (full control of private repos) or 'public_repo' (public only)
# 4. Copy and paste token below
#
# GITHUB_TOKEN=ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
#
# Optional: GitHub MCP server (alternative to built-in tool)
# Configure in mcp-config.json if you prefer MCP-based GitHub access

# Optional: JIRA Configuration (for task tracking in PR reviews)
# The bot includes a built-in JIRA API tool that works without MCP
# Configure these variables to fetch JIRA task details during PR reviews:
#
# 1. Get your JIRA instance URL:
#    - Cloud: https://your-company.atlassian.net
#    - Server/DC: https://jira.your-company.com
#
# 2. Get an API token:
#    - Cloud: https://id.atlassian.com/manage-profile/security/api-tokens
#    - Server/DC: Use Personal Access Token
#
# 3. Configure below:
#
# JIRA_URL=https://your-company.atlassian.net
# JIRA_EMAIL=your.email@company.com
# JIRA_API_TOKEN=your_jira_api_token
#
# When configured, the bot will:
# - Extract JIRA issue keys from PR descriptions (e.g., PROJ-123)
# - Fetch issue details (summary, description, requirements)
# - Verify PR changes match JIRA requirements
#
# Optional: JIRA MCP server (alternative to built-in tool)
# Configure in mcp-config.json if you prefer MCP-based JIRA access

# Voice Input Configuration (Optional)
# Enable voice input via /voice command (default: true)
# Uses OpenAI Whisper API for speech-to-text transcription
# Cost: ~$0.006 per minute of audio (30 seconds = $0.003)
VOICE_ENABLED=true
# Maximum recording duration in seconds (default: 30)
VOICE_MAX_DURATION=30
# Audio sample rate in Hz (default: 16000 - optimal for speech recognition)
VOICE_SAMPLE_RATE=16000

# Voice Recording Silence Detection (Optional)
# Automatically stop recording after period of silence
# Auto-stop on silence (default: true)
VOICE_AUTO_STOP_ON_SILENCE=true
# Silence threshold - RMS amplitude (default: 300)
# Lower value = more sensitive (may trigger on brief pauses)
# Higher value = less sensitive (may miss quiet speech)
# Typical speech: 1000-10000, Background noise: 50-500, Silence: 0-300
# Range: 0-32767 (16-bit audio)
VOICE_SILENCE_THRESHOLD=300
# Silence duration in seconds before auto-stop (default: 5)
# Includes 2-second grace period to prevent early cutoff
VOICE_SILENCE_DURATION=5
